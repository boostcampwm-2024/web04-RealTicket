import { Injectable } from '@nestjs/common';
import { interval, Observable } from 'rxjs';
import { map } from 'rxjs/operators';

@Injectable()
export class EventService {
  getEventById(eventId: number) {
    return {
      id: eventId,
      name: '맘마미아',
      place: {
        id: 1,
        name: '대극장',
      },
      'running-time': 1000,
      'running-date': '2024-11-13 19:19',
      'reservation-open-date': '2024-11-11 10:00',
    };
  }

  getSeatStatusByEventId(eventId: number): Observable<any> {
    return interval(1000).pipe(
      map((num) => {
        switch (num % 5) {
          case 0:
            return {
              id: eventId,
              data: {
                'seat-status': [
                  [
                    false,
                    false,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                  ],
                  [
                    false,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    true,
                  ],
                ],
              },
            };
          case 1:
            return {
              id: eventId,
              data: {
                'seat-status': [
                  [
                    false,
                    false,
                    true,
                    true,
                    false,
                    false,
                    false,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                  ],
                  [
                    false,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    false,
                    false,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    true,
                  ],
                ],
              },
            };
          case 2:
            return {
              id: eventId,
              data: {
                'seat-status': [
                  [
                    false,
                    false,
                    true,
                    true,
                    false,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                  ],
                  [
                    false,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    false,
                    false,
                    true,
                    false,
                    true,
                    false,
                    true,
                    true,
                    false,
                    true,
                    true,
                  ],
                ],
              },
            };
          case 3:
            return {
              id: eventId,
              data: {
                'seat-status': [
                  [
                    false,
                    false,
                    true,
                    true,
                    false,
                    false,
                    false,
                    true,
                    false,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    false,
                    true,
                    true,
                    true,
                  ],
                  [
                    false,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    false,
                    false,
                    true,
                    false,
                    true,
                    false,
                    true,
                    true,
                    false,
                    false,
                    true,
                  ],
                ],
              },
            };
          case 4:
            return {
              id: eventId,
              data: {
                'seat-status': [
                  [
                    false,
                    false,
                    false,
                    false,
                    false,
                    false,
                    false,
                    true,
                    false,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    false,
                    true,
                    true,
                    true,
                  ],
                  [
                    false,
                    false,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    false,
                    false,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    false,
                    true,
                  ],
                ],
              },
            };
        }
      }),
    );
  }
}
